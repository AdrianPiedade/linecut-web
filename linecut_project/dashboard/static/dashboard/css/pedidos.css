:root {
    --vermelho-principal: #9C0202;
    --vermelho-escuro: #7D0000;
    --cinza-escuro: #7D7D7D;
    --cinza-claro: #E4E4E4;
    --cinza-background: #F4F4F4;
    --branco: #FFFFFF;
    --verde: #189F4C;
    --amarelo: #F2C12E;
    --amarelo-claro-bg: #fff8e1;
    --amarelo-texto: #ffab00;
    --amarelo-borda: #ffecb3;
    --amarelo-hover: #ffecb3;
    --azul: #1976d2;
    --laranja: #f57c00;
    --vermelho-erro: #d32f2f;
    --cinza-desabilitado-bg: #f0f0f0;
    --cinza-desabilitado-texto: #bdbdbd;
    --cinza-desabilitado-borda: #e0e0e0;
    --sombra-clara: rgba(0, 0, 0, 0.1);
    --sombra-media: rgba(0, 0, 0, 0.15);
}

.cabecalho-pedidos {
    margin-bottom: 25px;
    border-bottom: 1px solid var(--cinza-claro);
}

.tabs-pedidos {
    display: flex;
    gap: 25px;
}

.tab-link {
    background: none;
    border: none;
    padding: 10px 5px;
    font-family: 'Poppins', sans-serif;
    font-size: 18px;
    font-weight: 600;
    color: #B3B3B3;
    cursor: pointer;
    border-bottom: 3px solid transparent;
    transition: color 0.3s ease, border-color 0.3s ease;
}

.tab-link:hover {
    color: var(--vermelho-principal);
}

.tab-link.active {
    color: var(--vermelho-principal);
    border-bottom-color: var(--vermelho-principal);
}

.filtros {
    display: flex;
    gap: 15px;
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: 25px;
    padding: 15px;
    border-radius: 8px;
    box-shadow: var(--sombra-clara);
}

.filtro-item {
    display: flex;
    align-items: center;
    gap: 8px;
}

.filtro-item label {
    font-size: 13px;
    color: var(--cinza-escuro);
    white-space: nowrap;
}

.filtro-item input[type="text"],
.filtro-item input[type="date"],
.filtro-item select {
    padding: 8px 12px;
    border: 1px solid var(--cinza-claro);
    border-radius: 20px;
    font-size: 13px;
    font-family: 'Poppins', sans-serif;
    background-color: #fff;
    min-width: 150px;
}

.filtro-item input[type="date"] {
    min-width: 120px;
}

#search-input {
    padding: 10px 15px;
    border: 1px solid var(--cinza-claro);
    border-radius: 20px;
    font-size: 14px;
    font-family: 'Poppins', sans-serif;
    background-color: var(--branco);
    outline: none;
    flex-grow: 1;
    min-width: 200px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

#search-input::placeholder {
    font-family: 'Poppins', sans-serif;
    color: var(--cinza-escuro);
    opacity: 0.7;
}

#search-input:focus {
   border-color: var(--vermelho-principal);
   box-shadow: 0 0 0 2px rgba(156, 2, 2, 0.1);
}

.btn-filtrar {
    padding: 8px 15px;
    background: var(--vermelho-principal);
    color: var(--branco);
    border: none;
    border-radius: 20px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.3s ease;
    display: flex;
    align-items: center;
    gap: 5px;
}

.btn-filtrar:hover {
    background: var(--vermelho-escuro);
}

.btn-filtrar i {
    font-size: 16px;
}

.tab-pane {
    display: none;
}

.tab-pane.active {
    display: block;
}

.loading-indicator {
    text-align: center;
    padding: 40px;
    color: var(--cinza-escuro);
    font-size: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.spinner {
    width: 24px;
    height: 24px;
    border: 3px solid rgba(0, 0, 0, 0.1);
    border-left-color: var(--vermelho-principal);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.tabela-pedidos {
    background: var(--branco);
    border-radius: 10px;
    box-shadow: var(--sombra-media);
    overflow: hidden;
    margin-bottom: 20px;
}

.cabecalho-tabela {
    display: grid;
    padding: 12px 20px;
    background: var(--vermelho-principal);
    color: var(--branco);
    font-weight: 500;
    font-size: 14px;
    align-items: center;
    gap: 15px;
    border-bottom: 1px solid var(--vermelho-escuro);
}

#preparo-content .cabecalho-tabela {
    grid-template-columns: minmax(90px, 0.9fr) minmax(180px, 1.2fr) minmax(110px, 1.1fr) minmax(110px, 1.1fr) minmax(70px, 0.7fr) minmax(90px, 0.9fr) minmax(200px, 1.5fr);
}

#retirada-content .cabecalho-tabela {
    grid-template-columns: minmax(90px, 0.9fr) minmax(180px, 1.2fr) minmax(110px, 1.1fr) minmax(110px, 1.1fr) minmax(80px, 0.8fr) minmax(240px, 1.8fr);
}

#historico-content .cabecalho-tabela {
    grid-template-columns: minmax(100px, 1fr) minmax(180px, 1.5fr) minmax(110px, 1.1fr) minmax(80px, 0.8fr) minmax(90px, 1fr) minmax(80px, 0.8fr);
}

.corpo-tabela {
    max-height: 70vh;
    overflow-y: auto;
    display: block;
}

.linha-pedido {
    display: grid;
    padding: 10px 20px;
    border-bottom: 1px solid #f0f0f0;
    gap: 15px;
    font-size: 13px;
    color: var(--cinza-escuro);
    min-height: 60px;
    align-items: center;
}

.linha-pedido:last-child {
    border-bottom: none;
}

.linha-pedido:hover {
    background-color: #f9f9f9;
}

#preparo-content .linha-pedido {
    grid-template-columns: minmax(90px, 0.9fr) minmax(180px, 1.2fr) minmax(110px, 1.1fr) minmax(110px, 1.1fr) minmax(70px, 0.7fr) minmax(90px, 0.9fr) minmax(200px, 1.5fr);
}

#retirada-content .linha-pedido {
    grid-template-columns: minmax(90px, 0.9fr) minmax(180px, 1.2fr) minmax(110px, 1.1fr) minmax(110px, 1.1fr) minmax(80px, 0.8fr) minmax(240px, 1.8fr);
}

#historico-content .linha-pedido {
    grid-template-columns: minmax(100px, 1fr) minmax(180px, 1.5fr) minmax(110px, 1.1fr) minmax(80px, 0.8fr) minmax(90px, 1fr) minmax(80px, 0.8fr);
}

.linha-vazia {
    text-align: center;
    padding: 40px;
    color: var(--cinza-escuro);
    font-style: italic;
    grid-column: 1 / -1;
}

.col-status {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 2px;
    font-weight: 500;
}

.status-wrapper {
    display: flex;
    align-items: center;
    gap: 8px;
}

.col-status .hora {
    font-size: 11px;
    color: #888;
    margin-left: 18px;
    font-weight: 400;
}

.col-numero {
    font-weight: 400;
    align-self: center;
    min-width: 180px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-self: start;
    text-align: left;
}
.linha-pedido .col-numero .numero-id {
    font-weight: 400;
    display: inline-block;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}


.col-pagamento-status {
    display: flex;
    align-items: center;
    gap: 8px;
}

.pagamento-wrapper {
    display: flex;
    align-items: center;
    gap: 8px;
}

.col-metodo-pagamento {
    text-align: left;
    white-space: nowrap;
}
.col-metodo-pagamento .metodo-texto {
    font-weight: 400;
}

.col-valor, .col-data {
    white-space: nowrap;
    text-align: left;
}
.col-valor { font-weight: 500; }
.col-avaliacao { text-align: center; }
.col-acoes { text-align: right; white-space: nowrap; }

.status-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
.status-dot.pendente, .status-dot.pago { background-color: var(--amarelo); }
.status-dot.preparando { background-color: var(--azul); }
.status-dot.pronto { background-color: var(--laranja); }
.status-dot.retirado, .status-dot.concluido { background-color: var(--verde); }
.status-dot.cancelado { background-color: var(--vermelho-erro); }

.pagamento-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
.pagamento-dot.pendente { background-color: var(--amarelo); }
.pagamento-dot.efetuado, .pagamento-dot.pago { background-color: var(--verde); }
.pagamento-dot.nao_aplicavel { background-color: var(--cinza-claro); }

.avaliacao-badge { padding: 3px 8px; border-radius: 12px; font-size: 11px; font-weight: 500; border: 1px solid; display: inline-block; }
.avaliacao-badge.pendente { background-color: #fff3e0; color: #f57c00; border-color: #ffe0b2; }
.avaliacao-badge.avaliado { background-color: #e8f5e9; color: var(--verde); border-color: #c8e6c9; }
.avaliacao-badge.nao_avaliado { background-color: #fce4ec; color: #d32f2f; border-color: #f8bbd0; }

.btn-acao { padding: 5px 12px; border: 1px solid transparent; border-radius: 15px; cursor: pointer; font-size: 12px; font-weight: 500; transition: background-color 0.2s ease, transform 0.1s ease, opacity 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease; display: inline-flex; align-items: center; gap: 4px; margin-left: 6px; position: relative; letter-spacing: 0.5px; white-space: nowrap;}
.btn-acao:hover:not(:disabled) { transform: translateY(-1px); }
.btn-acao:disabled { cursor: not-allowed; opacity: 0.7; }
.btn-acao:disabled:hover { transform: none; box-shadow: none; }
.btn-acao i { font-size: 14px; }

.btn-ver-detalhes { background-color: #e3f2fd; color: #1976d2; border: 1px solid #a0c4e1; margin-left: 0; text-decoration: none;}
.btn-ver-detalhes:hover { background-color: #bbdefb; box-shadow: 0 2px 4px rgba(25, 118, 210, 0.2); }

.btn-marcar-pronto { background-color: #e8f5e9; color: var(--verde); border: 1px solid #a9d1aa; }
.btn-marcar-pronto:hover:not(:disabled) { background-color: #c8e6c9; box-shadow: 0 2px 4px rgba(24, 159, 76, 0.2); }
.btn-marcar-pronto:disabled { background-color: var(--cinza-desabilitado-bg) !important; color: var(--cinza-desabilitado-texto) !important; border-color: var(--cinza-desabilitado-borda) !important; }

.btn-marcar-retirado { background-color: #e8f5e9; color: var(--verde); border: 1px solid #a9d1aa; }
.btn-marcar-retirado:hover:not(:disabled) { background-color: #c8e6c9; box-shadow: 0 2px 4px rgba(24, 159, 76, 0.2); }
.btn-marcar-retirado:disabled { background-color: var(--cinza-desabilitado-bg) !important; color: var(--cinza-desabilitado-texto) !important; border-color: var(--cinza-desabilitado-borda) !important; }

.btn-confirmar-pagamento-local { background-color: var(--amarelo-claro-bg); color: var(--amarelo-texto); border: 1px solid var(--amarelo-borda); }
.btn-confirmar-pagamento-local:hover:not(:disabled) { background-color: var(--amarelo-hover); box-shadow: 0 2px 4px rgba(255, 171, 0, 0.2); }
.btn-confirmar-pagamento-local:disabled { background-color: var(--cinza-desabilitado-bg) !important; color: var(--cinza-desabilitado-texto) !important; border-color: var(--cinza-desabilitado-borda) !important; }

.btn-cancelar-pedido { background-color: #ffebee; color: #d32f2f; border: 1px solid #f0b6bc; }
.btn-cancelar-pedido:hover:not(:disabled) { background-color: #ffcdd2; box-shadow: 0 2px 4px rgba(211, 47, 47, 0.2); }

.btn-acao[disabled]:hover::after {
    content: attr(title);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 11px;
    white-space: nowrap;
    margin-bottom: 5px;
    z-index: 10;
    display: block;
}

.modal-detalhes { max-width: 550px; }
.detalhes-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; font-size: 14px; padding-bottom: 10px; border-bottom: 1px dashed var(--cinza-claro); }
.pagamento-status { padding: 4px 10px; border-radius: 15px; font-size: 12px; font-weight: 500; display: inline-flex; align-items: center; gap: 5px; }
.pagamento-status.pago, .pagamento-status.efetuado { background-color: #e8f5e9; color: var(--verde); border: 1px solid #c8e6c9; }
.pagamento-status.pendente { background-color: #fff3e0; color: #f57c00; border: 1px solid #ffe0b2; }
.pagamento-status i { font-size: 14px; }
.detalhes-status-historico { margin-bottom: 25px; }
.detalhes-status-historico h4 { font-size: 16px; color: var(--vermelho-principal); margin-bottom: 10px; }
#detalhes-status-lista { list-style: none; padding-left: 10px; border-left: 2px solid var(--cinza-claro); margin: 0; }
#detalhes-status-lista li { position: relative; padding: 5px 0 15px 25px; font-size: 14px; color: var(--cinza-escuro); }
#detalhes-status-lista li::before { content: ''; position: absolute; left: -6px; top: 9px; width: 10px; height: 10px; border-radius: 50%; background-color: var(--cinza-claro); border: 2px solid var(--branco); }
#detalhes-status-lista li:first-child::before { background-color: var(--verde); }
.timestamp { font-weight: 500; color: #555; display: inline-block; width: 80px; }
.status-icon { margin-right: 8px; font-size: 16px; vertical-align: middle; }
.status-icon.concluido, .status-icon.retirado, .status-icon.efetuado { color: var(--verde); }
.status-icon.pronto { color: var(--laranja); }
.status-icon.preparando { color: var(--azul); }
.status-icon.recebido, .status-icon.pago, .status-icon.pendente, .status-icon.pedido_realizado { color: var(--amarelo); }
.status-icon.cancelado { color: var(--vermelho-erro); }
#mostrar-historico-completo { background: none; border: none; color: var(--azul); cursor: pointer; font-size: 13px; margin-top: 5px; padding: 0; }
.detalhes-itens { margin-bottom: 20px; }
.detalhes-itens h4 { font-size: 16px; color: var(--vermelho-principal); margin-bottom: 10px; }
#detalhes-itens-tabela { width: 100%; border-collapse: collapse; font-size: 14px; }
#detalhes-itens-tabela th, #detalhes-itens-tabela td { padding: 8px 5px; text-align: left; border-bottom: 1px solid #eee; }
#detalhes-itens-tabela th { background-color: #f8f8f8; font-weight: 500; color: #555; }
#detalhes-itens-tabela td:nth-child(1), #detalhes-itens-tabela th:nth-child(1) { width: 50px; text-align: center; }
#detalhes-itens-tabela td:nth-child(3), #detalhes-itens-tabela th:nth-child(3),
#detalhes-itens-tabela td:nth-child(4), #detalhes-itens-tabela th:nth-child(4) { width: 100px; text-align: right; }
#detalhes-itens-tabela tfoot td { border-bottom: none; font-weight: 600; padding-top: 10px; }
.total-label { text-align: right !important; padding-right: 10px; }
.total-valor { color: var(--vermelho-principal); font-size: 16px; }
.modal-rodape-detalhes { justify-content: flex-end; }
#detalhes-acoes-pedido button { margin-left: 10px; }

.modal-confirmacao { max-width: 480px; }
.modal-confirmacao .modal-corpo { text-align: center; }
.modal-confirmacao h2 { font-size: 22px; }
.modal-confirmacao p { margin-bottom: 15px; font-size: 16px; color: var(--cinza-escuro); }
.modal-confirmacao .confirmacao-subtexto { font-size: 13px; color: #6c757d; margin-top: 10px; }
.modal-confirmacao textarea { width: 100%; padding: 10px; border: 1px solid var(--cinza-claro); border-radius: 6px; font-family: 'Poppins', sans-serif; margin-top: 10px; resize: vertical; min-height: 60px; }
.modal-confirmacao .modal-rodape { justify-content: center; }

.btn-modal { padding: 10px 20px; border: none; border-radius: 20px; cursor: pointer; font-size: 14px; font-weight: 500; transition: all 0.2s ease; display: inline-flex; align-items: center; gap: 6px; }
.btn-modal i { font-size: 16px; }
.btn-neutro { background: var(--cinza-background); color: var(--cinza-escuro); }
.btn-neutro:hover { background: var(--cinza-claro); }
.btn-confirmar { background: var(--verde); color: var(--branco); }
.btn-confirmar:hover { background: #148c41; }
.btn-cancelar { background: var(--vermelho-erro); color: var(--branco); }
.btn-cancelar:hover { background: #c62828; }
.btn-pronto { background-color: var(--laranja); color: white; }
.btn-pronto:hover:not(:disabled) { background-color: #ef6c00; }
.btn-retirado { background-color: var(--verde); color: white; }
.btn-retirado:hover:not(:disabled) { background-color: #148c41; }
.btn-cancelar-detalhes { background-color: var(--vermelho-erro); color: white; }
.btn-cancelar-detalhes:hover:not(:disabled) { background-color: #c62828; }

.menu-item.has-new-orders {
    background-color: #fff3e0 !important;
    position: relative;
    animation: blink-background 1.5s infinite alternate;
}

.menu-item.has-new-orders::after {
    content: '';
    position: absolute;
    top: 10px;
    right: 12px;
    width: 9px;
    height: 9px;
    background-color: var(--vermelho-principal);
    border-radius: 50%;
    border: 1px solid white;
    box-shadow: 0 0 5px rgba(156, 2, 2, 0.7);
    animation: pulse-red 1.5s infinite;
}

@keyframes blink-background {
    from { background-color: #fff3e0 !important; }
    to { background-color: #fff8e1 !important; }
}

@keyframes pulse-red {
    0% { transform: scale(1); box-shadow: 0 0 5px rgba(156, 2, 2, 0.7); }
    50% { transform: scale(1.15); box-shadow: 0 0 10px rgba(156, 2, 2, 0.9); }
    100% { transform: scale(1); box-shadow: 0 0 5px rgba(156, 2, 2, 0.7); }
}

@media (max-width: 1200px) { }

@media (max-width: 900px) {
    .filtros { flex-direction: column; align-items: stretch; }
    .filtro-item { width: 100%; }
    .filtro-item select, .filtro-item input[type="text"], .filtro-item input[type="date"] { width: 100%; min-width: auto; }
    .btn-filtrar { width: 100%; justify-content: center; }
    .tabela-pedidos { overflow-x: auto; }
    .cabecalho-tabela, .linha-pedido { min-width: 1050px; }
    #preparo-content .cabecalho-tabela, #preparo-content .linha-pedido { min-width: 1050px; }
    #retirada-content .cabecalho-tabela, #retirada-content .linha-pedido { min-width: 980px; }
    #historico-content .cabecalho-tabela, #historico-content .linha-pedido { min-width: 850px; }
}

@media (max-width: 768px) {
    .menu-item.has-new-orders::after { top: 5px; right: 5px; width: 7px; height: 7px; }
    .modal-corpo { padding: 15px; }
    .modal-rodape { padding: 10px 15px; }
}
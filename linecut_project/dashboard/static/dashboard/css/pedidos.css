:root {
    --vermelho-principal: #9C0202;
    --vermelho-escuro: #7D0000;
    --cinza-escuro: #7D7D7D;
    --cinza-claro: #E4E4E4;
    --cinza-background: #F4F4F4;
    --branco: #FFFFFF;
    --verde: #189F4C;
    --amarelo: #F2C12E;
    --azul: #1976d2;
    --laranja: #f57c00;
    --vermelho-erro: #d32f2f;
    --cinza-desabilitado: #b0b0b0;
    --cinza-texto-desabilitado: #757575;
    --sombra-clara: rgba(0, 0, 0, 0.1);
    --sombra-media: rgba(0, 0, 0, 0.15);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body { font-family: 'Poppins', sans-serif; background: #F9F9F9; display: flex; min-height: 100vh; color: #333; }

.menu-lateral { width: 250px; height: 100vh; background: var(--branco); box-shadow: 2px 0 6px var(--sombra-clara), 4px 0 12px var(--sombra-media); border-radius: 0 10.6px 10.6px 0; padding: 20px 15px; display: flex; flex-direction: column; position: fixed; left: 0; top: 0; z-index: 1000; }
.logo { text-align: center; margin-bottom: 20px; padding: 10px; }
.logo img { width: 120px; height: auto; max-height: 80px; object-fit: contain; }
.restaurant-info { text-align: center; margin-bottom: 20px; padding: 0 10px; }
.restaurant-info h3 { font-weight: 600; font-size: 14px; color: var(--vermelho-principal); margin-bottom: 8px; }
.status-loja { display: flex; align-items: center; justify-content: center; background: var(--branco); box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.08), 2px 2px 4px rgba(0, 0, 0, 0.12); border-radius: 8px; padding: 4px 8px; width: 140px; height: 26px; margin: 0 auto; }
.status-indicator { width: 8px; height: 8px; background: var(--verde); border-radius: 50%; margin-right: 6px; }
.status-loja span { font-weight: 400; font-size: 12px; color: var(--verde); }
.menu-nav { flex-grow: 1; padding: 0 5px; }
.menu-item { display: flex; align-items: center; padding: 10px 15px; margin: 4px 0; cursor: pointer; transition: all 0.2s ease; position: relative; border-radius: 6px; text-decoration: none; }
.menu-item:hover { background: var(--cinza-background); transform: translateX(3px); }
.menu-item.selected { background: var(--cinza-background); border-left: 2px solid var(--vermelho-principal); transform: translateX(3px); }
.menu-item .icon { margin-right: 10px; width: 16px; height: 16px; object-fit: contain; }
.menu-item span { font-weight: 400; font-size: 14px; color: var(--cinza-escuro); }
.menu-item.selected span { color: var(--vermelho-principal); font-weight: 500; }
.menu-item.disabled { opacity: 0.6; cursor: not-allowed; }
.menu-item.disabled:hover { background: none; transform: none; }
.lock-icon { margin-left: auto; width: 14px; height: 14px; opacity: 0.7; }
.menu-sair { display: flex; align-items: center; padding: 10px 15px; cursor: pointer; margin-top: auto; transition: all 0.2s ease; border-radius: 6px; }
.menu-sair a { display: flex; align-items: center; text-decoration: none; color: inherit; width: 100%;}
.menu-sair:hover { background: var(--cinza-background); transform: translateX(3px); }
.menu-sair .icon { margin-right: 10px; width: 16px; height: 16px; }
.menu-sair span { font-weight: 400; font-size: 14px; color: var(--vermelho-principal); }

.conteudo-principal { flex: 1; margin-left: 250px; padding: 30px 40px; background: #F9F9F9; }

.cabecalho-pedidos { margin-bottom: 25px; border-bottom: 1px solid var(--cinza-claro); }
.tabs-pedidos { display: flex; gap: 25px; }
.tab-link { background: none; border: none; padding: 10px 5px; font-family: 'Poppins', sans-serif; font-size: 18px; font-weight: 600; color: #B3B3B3; cursor: pointer; border-bottom: 3px solid transparent; transition: color 0.3s ease, border-color 0.3s ease; }
.tab-link:hover { color: var(--vermelho-principal); }
.tab-link.active { color: var(--vermelho-principal); border-bottom-color: var(--vermelho-principal); }

.filtros { display: flex; gap: 15px; align-items: center; flex-wrap: wrap; margin-bottom: 25px; padding: 15px; background-color: var(--branco); border-radius: 8px; box-shadow: var(--sombra-clara); }
.filtro-item { display: flex; align-items: center; gap: 8px; }
.filtro-item label { font-size: 13px; color: var(--cinza-escuro); white-space: nowrap; }
.filtro-item input[type="text"],
.filtro-item input[type="date"],
.filtro-item select { padding: 8px 12px; border: 1px solid var(--cinza-claro); border-radius: 20px; font-size: 13px; font-family: 'Poppins', sans-serif; background-color: #fff; min-width: 150px; }
.filtro-item input[type="date"] { min-width: 120px; }
.filtro-busca { flex-grow: 1; border: 1px solid var(--cinza-claro); border-radius: 20px; padding: 0 12px; background-color: #fff; display: flex; align-items: center; }
.filtro-busca i { color: var(--cinza-escuro); font-size: 16px; margin-right: 5px; }
.filtro-busca input { border: none; padding: 8px 5px; outline: none; flex-grow: 1; min-width: 100px; }
.btn-filtrar { padding: 8px 15px; background: var(--vermelho-principal); color: var(--branco); border: none; border-radius: 20px; cursor: pointer; font-size: 14px; transition: background-color 0.3s ease; display: flex; align-items: center; gap: 5px; }
.btn-filtrar:hover { background: var(--vermelho-escuro); }
.btn-filtrar i { font-size: 16px; }

.tab-pane { display: none; }
.tab-pane.active { display: block; }

.loading-indicator { text-align: center; padding: 40px; color: var(--cinza-escuro); font-size: 16px; display: flex; align-items: center; justify-content: center; gap: 10px; }
.spinner { width: 24px; height: 24px; border: 3px solid rgba(0, 0, 0, 0.1); border-left-color: var(--vermelho-principal); border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

.tabela-pedidos { background: var(--branco); border-radius: 10px; box-shadow: var(--sombra-media); overflow: hidden; margin-bottom: 20px; }

.cabecalho-tabela {
    display: grid;
    padding: 12px 20px;
    background: var(--vermelho-principal);
    color: var(--branco);
    font-weight: 500;
    font-size: 14px;
    align-items: center;
    gap: 15px;
    border-bottom: 1px solid var(--vermelho-escuro);
}
/* Colunas Header: Status | Id Pedido | Pgto Status | Método Pgto | Valor | Data | Ações */
#preparo-content .cabecalho-tabela {
    grid-template-columns: minmax(110px, 1.1fr) minmax(90px, 1fr) minmax(110px, 1.1fr) minmax(110px, 1.1fr) minmax(70px, 0.7fr) minmax(90px, 0.9fr) minmax(280px, 2.1fr); /* Aumentado Ações */
}
/* Colunas Header: Status | Id Pedido | Valor | Pronto às | Pgto Status | Método Pgto | Ações */
#retirada-content .cabecalho-tabela {
    grid-template-columns: minmax(110px, 1fr) minmax(90px, 1fr) minmax(80px, 0.8fr) minmax(80px, 0.8fr) minmax(110px, 1fr) minmax(110px, 1fr) minmax(150px, 1.5fr);
}
/* Colunas Header: Status | Id Pedido | Valor | Data | Avaliação | Detalhes */
#historico-content .cabecalho-tabela {
    grid-template-columns: minmax(120px, 1fr) minmax(90px, 1fr) minmax(80px, 0.8fr) minmax(90px, 1fr) minmax(100px, 1fr) minmax(90px, 1fr);
}

.corpo-tabela { max-height: 70vh; overflow-y: auto; display: block; }

.linha-pedido {
    display: grid;
    padding: 10px 20px;
    border-bottom: 1px solid #f0f0f0;
    gap: 15px;
    font-size: 13px;
    color: var(--cinza-escuro);
    min-height: 60px;
    align-items: center;
}
.linha-pedido:last-child { border-bottom: none; }
.linha-pedido:hover { background-color: #f9f9f9; }

/* Colunas Linha: Status | Id Pedido | Pgto Status | Método Pgto | Valor | Data | Ações */
#preparo-content .linha-pedido {
    grid-template-columns: minmax(110px, 1.1fr) minmax(90px, 1fr) minmax(110px, 1.1fr) minmax(110px, 1.1fr) minmax(70px, 0.7fr) minmax(90px, 0.9fr) minmax(280px, 2.1fr); /* Aumentado Ações */
}
/* Colunas Linha: Status | Id Pedido | Valor | Pronto às | Pgto Status | Método Pgto | Ações */
#retirada-content .linha-pedido {
    grid-template-columns: minmax(110px, 1fr) minmax(90px, 1fr) minmax(80px, 0.8fr) minmax(80px, 0.8fr) minmax(110px, 1fr) minmax(110px, 1fr) minmax(150px, 1.5fr);
}
/* Colunas Linha: Status | Id Pedido | Valor | Data | Avaliação | Detalhes */
#historico-content .linha-pedido {
    grid-template-columns: minmax(120px, 1fr) minmax(90px, 1fr) minmax(80px, 0.8fr) minmax(90px, 1fr) minmax(100px, 1fr) minmax(90px, 1fr);
}

.linha-vazia { text-align: center; padding: 40px; color: var(--cinza-escuro); font-style: italic; grid-column: 1 / -1; }

.col-status { display: flex; flex-direction: column; align-items: flex-start; gap: 2px; font-weight: 500; }
.status-wrapper { display: flex; align-items: center; gap: 8px; }
.col-status .hora { font-size: 11px; color: #888; margin-left: 18px; font-weight: 400; }

.col-numero { font-weight: 600; align-self: center; }
.col-numero .numero-id { font-weight: 600; }

.col-pagamento-status { display: flex; align-items: center; gap: 8px; }
.pagamento-wrapper { display: flex; align-items: center; gap: 8px; }

.col-metodo-pagamento { text-align: left; white-space: nowrap; }
.col-metodo-pagamento .metodo-texto { font-weight: 400; }

.col-valor, .col-data { white-space: nowrap; text-align: left; }
.col-valor { font-weight: 500; }
.col-horario { display: none; }
.col-avaliacao { text-align: center; }
.col-acoes { text-align: right; white-space: nowrap; }

.status-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
.status-dot.pendente, .status-dot.pago { background-color: var(--amarelo); }
.status-dot.preparando { background-color: var(--azul); }
.status-dot.pronto { background-color: var(--laranja); }
.status-dot.retirado, .status-dot.concluido { background-color: var(--verde); }
.status-dot.cancelado { background-color: var(--vermelho-erro); }

.pagamento-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
.pagamento-dot.pendente { background-color: var(--amarelo); }
.pagamento-dot.efetuado, .pagamento-dot.pago { background-color: var(--verde); }
.pagamento-dot.nao_aplicavel { background-color: var(--cinza-claro); }

.avaliacao-badge { padding: 3px 8px; border-radius: 12px; font-size: 11px; font-weight: 500; border: 1px solid; display: inline-block; }
.avaliacao-badge.pendente { background-color: #fff3e0; color: #f57c00; border-color: #ffe0b2; }
.avaliacao-badge.avaliado { background-color: #e8f5e9; color: var(--verde); border-color: #c8e6c9; }
.avaliacao-badge.nao_avaliado { background-color: #fce4ec; color: #d32f2f; border-color: #f8bbd0; }

.btn-acao { padding: 5px 12px; border: 1px solid transparent; border-radius: 15px; cursor: pointer; font-size: 12px; font-weight: 500; transition: background-color 0.2s ease, transform 0.1s ease, opacity 0.2s ease, border-color 0.2s ease; display: inline-flex; align-items: center; gap: 4px; margin-left: 6px; position: relative; }
.btn-acao:hover:not(:disabled) { transform: translateY(-1px); }
.btn-acao:disabled { background-color: var(--cinza-claro); color: var(--cinza-texto-desabilitado); cursor: not-allowed; opacity: 0.7; border-color: var(--cinza-desabilitado); }
.btn-acao:disabled:hover { transform: none; }
.btn-acao i { font-size: 14px; }
.btn-ver-detalhes { background-color: #e8f5e9; color: var(--verde); border-color: #c8e6c9; padding: 5px 12px; margin-left: 0; text-decoration: none;}
.btn-ver-detalhes:hover { background-color: #c8e6c9; color: var(--verde); transform: translateY(-1px); }
.btn-confirmar-pagamento-local { background-color: var(--azul); color: white; }
.btn-confirmar-pagamento-local:hover:not(:disabled) { background-color: #1565c0; }
.btn-marcar-preparando { background-color: #e8eaf6; color: #3949ab; border-color: #c5cae9;}
.btn-marcar-preparando:hover:not(:disabled) { background-color: #c5cae9; }
.btn-marcar-pronto { background-color: var(--laranja); color: white; }
.btn-marcar-pronto:hover:not(:disabled) { background-color: #ef6c00; }
.btn-marcar-retirado { background-color: var(--verde); color: white; }
.btn-marcar-retirado:hover:not(:disabled) { background-color: #148c41; }
.btn-cancelar-pedido { background-color: var(--vermelho-erro); color: white; }
.btn-cancelar-pedido:hover:not(:disabled) { background-color: #c62828; }

.btn-acao[disabled]:hover::after {
    content: attr(title);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(0, 0, 0, 0.75);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 11px;
    white-space: nowrap;
    margin-bottom: 5px;
    z-index: 10;
}

.modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); animation: fadeIn 0.3s ease; justify-content: center; align-items: center; backdrop-filter: blur(4px); }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
.modal-conteudo { background-color: var(--branco); border-radius: 12px; width: 90%; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2); animation: slideIn 0.3s ease; display: flex; flex-direction: column; max-height: 85vh; }
@keyframes slideIn { from { transform: translateY(-30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
.modal-cabecalho { display: flex; justify-content: space-between; align-items: center; padding: 15px 25px; border-bottom: 1px solid var(--cinza-claro); }
.modal-cabecalho h2 { color: var(--vermelho-principal); font-size: 20px; margin: 0; }
.fechar-modal { font-size: 24px; font-weight: bold; cursor: pointer; color: var(--cinza-escuro); transition: color 0.2s ease; background: none; border: none; padding: 0 5px; line-height: 1; }
.fechar-modal:hover { color: var(--vermelho-principal); }
.modal-corpo { padding: 25px; overflow-y: auto; line-height: 1.6; }
.modal-rodape { padding: 15px 25px; border-top: 1px solid var(--cinza-claro); display: flex; justify-content: flex-end; gap: 15px; background-color: #f8f9fa; }

.modal-detalhes { max-width: 550px; }
.detalhes-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; font-size: 14px; padding-bottom: 10px; border-bottom: 1px dashed var(--cinza-claro); }
.pagamento-status { padding: 4px 10px; border-radius: 15px; font-size: 12px; font-weight: 500; display: inline-flex; align-items: center; gap: 5px; }
.pagamento-status.pago { background-color: #e8f5e9; color: var(--verde); border: 1px solid #c8e6c9; }
.pagamento-status.pendente { background-color: #fff3e0; color: #f57c00; border: 1px solid #ffe0b2; }
.pagamento-status i { font-size: 14px; }
.detalhes-status-historico { margin-bottom: 25px; }
.detalhes-status-historico h4 { font-size: 16px; color: var(--vermelho-principal); margin-bottom: 10px; }
#detalhes-status-lista { list-style: none; padding-left: 10px; border-left: 2px solid var(--cinza-claro); margin: 0; }
#detalhes-status-lista li { position: relative; padding: 5px 0 15px 25px; font-size: 14px; color: var(--cinza-escuro); }
#detalhes-status-lista li::before { content: ''; position: absolute; left: -6px; top: 9px; width: 10px; height: 10px; border-radius: 50%; background-color: var(--cinza-claro); border: 2px solid var(--branco); }
#detalhes-status-lista li:first-child::before { background-color: var(--verde); }
.timestamp { font-weight: 500; color: #555; display: inline-block; width: 80px; }
.status-icon { margin-right: 8px; font-size: 16px; vertical-align: middle; }
.status-icon.concluido, .status-icon.retirado { color: var(--verde); }
.status-icon.pronto { color: var(--laranja); }
.status-icon.preparando { color: var(--azul); }
.status-icon.recebido, .status-icon.pago, .status-icon.pendente { color: var(--amarelo); }
.status-icon.cancelado { color: var(--vermelho-erro); }
#mostrar-historico-completo { background: none; border: none; color: var(--azul); cursor: pointer; font-size: 13px; margin-top: 5px; padding: 0; }
.detalhes-itens { margin-bottom: 20px; }
.detalhes-itens h4 { font-size: 16px; color: var(--vermelho-principal); margin-bottom: 10px; }
#detalhes-itens-tabela { width: 100%; border-collapse: collapse; font-size: 14px; }
#detalhes-itens-tabela th, #detalhes-itens-tabela td { padding: 8px 5px; text-align: left; border-bottom: 1px solid #eee; }
#detalhes-itens-tabela th { background-color: #f8f8f8; font-weight: 500; color: #555; }
#detalhes-itens-tabela td:nth-child(1), #detalhes-itens-tabela th:nth-child(1) { width: 50px; text-align: center; }
#detalhes-itens-tabela td:nth-child(3), #detalhes-itens-tabela th:nth-child(3),
#detalhes-itens-tabela td:nth-child(4), #detalhes-itens-tabela th:nth-child(4) { width: 100px; text-align: right; }
#detalhes-itens-tabela tfoot td { border-bottom: none; font-weight: 600; padding-top: 10px; }
.total-label { text-align: right !important; padding-right: 10px; }
.total-valor { color: var(--vermelho-principal); font-size: 16px; }
.modal-rodape-detalhes { justify-content: flex-end; }
#detalhes-acoes-pedido button { margin-left: 10px; }

.modal-confirmacao { max-width: 480px; }
.modal-confirmacao .modal-corpo { text-align: center; }
.modal-confirmacao h2 { font-size: 22px; }
.modal-confirmacao p { margin-bottom: 15px; font-size: 16px; color: var(--cinza-escuro); }
.modal-confirmacao .confirmacao-subtexto { font-size: 13px; color: #6c757d; margin-top: 10px; }
.modal-confirmacao textarea { width: 100%; padding: 10px; border: 1px solid var(--cinza-claro); border-radius: 6px; font-family: 'Poppins', sans-serif; margin-top: 10px; resize: vertical; min-height: 60px; }
.modal-confirmacao .modal-rodape { justify-content: center; }

.btn-modal { padding: 10px 20px; border: none; border-radius: 20px; cursor: pointer; font-size: 14px; font-weight: 500; transition: all 0.2s ease; display: inline-flex; align-items: center; gap: 6px; }
.btn-modal i { font-size: 16px; }
.btn-neutro { background: var(--cinza-background); color: var(--cinza-escuro); }
.btn-neutro:hover { background: var(--cinza-claro); }
.btn-confirmar { background: var(--verde); color: var(--branco); }
.btn-confirmar:hover { background: #148c41; }
.btn-cancelar { background: var(--vermelho-erro); color: var(--branco); }
.btn-cancelar:hover { background: #c62828; }
.btn-pronto { background-color: var(--laranja); color: white; }
.btn-pronto:hover:not(:disabled) { background-color: #ef6c00; }
.btn-retirado { background-color: var(--verde); color: white; }
.btn-retirado:hover:not(:disabled) { background-color: #148c41; }
.btn-cancelar-detalhes { background-color: var(--vermelho-erro); color: white; }
.btn-cancelar-detalhes:hover:not(:disabled) { background-color: #c62828; }

.toast-container { position: fixed; top: 20px; right: 20px; z-index: 9999; display: flex; flex-direction: column; gap: 10px; }
.toast { padding: 15px 20px; border-radius: 6px; color: white; font-family: 'Poppins', sans-serif; font-size: 14px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); display: flex; align-items: center; justify-content: space-between; min-width: 300px; max-width: 400px; animation: slideInRight 0.3s ease, fadeOut 0.5s ease 4.5s forwards; }
.toast-success { background-color: var(--verde); }
.toast-error { background-color: var(--vermelho-erro); }
.toast-warning { background-color: var(--amarelo); color: #333; }
.toast-info { background-color: var(--azul); }
.toast-close { background: none; border: none; color: inherit; font-size: 18px; cursor: pointer; margin-left: 15px; opacity: 0.7; padding: 0; line-height: 1;}
.toast-close:hover { opacity: 1; }
@keyframes slideInRight { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
@keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }

@media (max-width: 1200px) { }
@media (max-width: 900px) {
    .filtros { flex-direction: column; align-items: stretch; }
    .filtro-item { width: 100%; }
    .filtro-item select, .filtro-item input[type="text"], .filtro-item input[type="date"] { width: 100%; min-width: auto; }
    .filtro-busca input { width: auto; }
    .btn-filtrar { width: 100%; justify-content: center; }
    .tabela-pedidos { overflow-x: auto; }
    .cabecalho-tabela, .linha-pedido { min-width: 1050px; }
    #preparo-content .cabecalho-tabela, #preparo-content .linha-pedido { min-width: 1050px; }
    #retirada-content .cabecalho-tabela, #retirada-content .linha-pedido { min-width: 950px; }
    #historico-content .cabecalho-tabela, #historico-content .linha-pedido { min-width: 850px; }
}
@media (max-width: 768px) {
    .conteudo-principal { margin-left: 70px; padding: 15px; }
    .menu-lateral { width: 70px; padding: 10px 5px; }
    .menu-lateral .logo img { width: 50px; height: 50px; }
    .restaurant-info h3, .menu-item span, .menu-sair span, .status-loja span { display: none; }
    .status-loja { width: auto; padding: 4px; }
    .menu-item { padding: 8px 10px; justify-content: center; }
    .menu-item .icon { margin-right: 0; }
    .menu-item:hover, .menu-item.selected { transform: translateX(2px); }
    .menu-sair { padding: 8px 10px; justify-content: center; }
    .menu-sair .icon { margin-right: 0; }
    .menu-sair:hover { transform: translateX(2px); }
    .lock-icon { display: none; }
    .modal-conteudo { width: 95%; max-height: 90vh; }
    .modal-corpo { padding: 15px; }
    .modal-rodape { padding: 10px 15px; }
}

.spinner-border { display: inline-block; width: 1rem; height: 1rem; vertical-align: -0.125em; border: .2em solid currentColor; border-right-color: transparent; border-radius: 50%; animation: spinner-border .75s linear infinite; }
.spinner-border-sm { width: 0.8rem; height: 0.8rem; border-width: .15em; }
@keyframes spinner-border { to { transform: rotate(360deg); } }
button > .spinner-border { margin-right: 5px; }
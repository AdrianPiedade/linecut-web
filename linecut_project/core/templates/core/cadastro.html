{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LineCut - Cadastro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'core/css/cadastro.css' %}">
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            <img src="{% static 'core/images/logo_home.png' %}" alt="LineCut Logo">
        </div>
        <div class="nav-links">
            <a href="{% url 'home' %}">Home</a>
            <a href="{% url 'quem_somos' %}">Quem somos</a>
            <a href="{% url 'planos' %}">Planos</a>
            <a href="{% url 'como_funciona' %}">Como Funciona</a>
        </div>
        <div class="auth-buttons">
            <a href="{% url 'login' %}" class="btn-entrar">Entrar</a>
            <a href="{% url 'cadastro' %}" class="btn-cadastrar">Cadastrar</a>
        </div>
    </nav>

    <div class="red-background"></div>
    
    <main class="cadastro-container">
        <h1>Cadastrar</h1>
        
        <form method="POST" class="cadastro-form" id="cadastroForm" onsubmit="return false;">
            {% csrf_token %}
            
            <div class="form-columns">
                <div class="form-column">
                    <div class="form-group">
                        <label for="cnpj">CNPJ</label>
                        <div class="input-wrapper">
                            <input type="text" id="cnpj" name="cnpj" placeholder="00.000.000/0000-00" required>
                            <div id="cnpj-loading" class="loading-spinner" style="display: none;"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="nome_fantasia">Nome fantasia</label>
                        <input type="text" id="nome_fantasia" name="nome_fantasia" placeholder="Será preenchido automaticamente" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label for="razao_social">Razão social</label>
                        <input type="text" id="razao_social" name="razao_social" placeholder="Será preenchido automaticamente" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label for="telefone">Telefone</label>
                        <input type="text" id="telefone" name="telefone" placeholder="(00) 00000-0000" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">E-mail</label>
                        <input type="email" id="email" name="email" placeholder="seu@email.com.br" required>
                    </div>
                </div>
                
                <div class="form-column">
                    <div class="plano-selecionado">
                        <h3>Plano selecionado</h3>
                        <div class="custom-select">
                            <select id="plano" name="plano">
                                <option value="trial" selected>Trial</option>
                                <option value="basic">Basic</option>
                                <option value="premium">Premium</option>
                            </select>
                            <div class="select-icon">
                                <i class="bi bi-crown"></i>
                                <i class="bi bi-chevron-down arrow"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group-duo">
                        <div class="form-group">
                            <label for="cep">CEP</label>
                            <div class="input-wrapper">
                                <input type="text" id="cep" name="cep" placeholder="00000-000" required>
                                <div id="cep-loading" class="loading-spinner" style="display: none;"></div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="numero">Número</label>
                            <input type="text" id="numero" name="numero" placeholder="1234" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="endereco">Endereço</label>
                        <input type="text" id="endereco" name="endereco" placeholder="O endereço será preenchido automaticamente" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label for="polo">Polo</label>
                        <div class="custom-select">
                            <select id="polo" name="polo">
                                <option value="senac-praca3" selected>Centro Universitário Senac - Praça 1</option>
                                <option value="senac-praca3" selected>Centro Universitário Senac - Praça 2</option>
                                <option value="senac-praca3" selected>Centro Universitário Senac - Praça 3</option>
                            </select>
                            <div class="select-icon">
                                <i class="bi bi-chevron-down"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group password-group">
                        <label for="senha">Senha</label>
                        <div class="password-input-container">
                            <input type="password" id="senha" name="senha" placeholder="Digite sua senha" required>
                            <button type="button" id="toggleSenha" class="toggle-password">
                                <i class="bi bi-eye"></i>
                            </button>
                        </div>
                        
                        <div id="senha-validacao" class="senha-validacao" style="display: none;">
                            <p class="senha-titulo">A senha deve conter:</p>
                            <ul class="senha-requisitos">
                                <li id="req-tamanho" class="requisito">
                                    <i class="bi bi-x-circle"></i>
                                    <span>Pelo menos 10 caracteres</span>
                                </li>
                                <li id="req-maiuscula-minuscula" class="requisito">
                                    <i class="bi bi-x-circle"></i>
                                    <span>Letras maiúsculas e minúsculas</span>
                                </li>
                                <li id="req-numero" class="requisito">
                                    <i class="bi bi-x-circle"></i>
                                    <span>Pelo menos 1 número</span>
                                </li>
                                <li id="req-especial" class="requisito">
                                    <i class="bi bi-x-circle"></i>
                                    <span>Pelo menos 1 caractere especial</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="termos-container">
                <div class="termo-check">
                    <input type="checkbox" id="termos_condicoes" name="termos_condicoes" required disabled>
                    <label for="termos_condicoes">
                        Li e concordo com os <a href="#" class="link-termo" id="link-termos">Termos e Condições</a>
                    </label>
                </div>
                
                <div class="termo-check">
                    <input type="checkbox" id="politica_privacidade" name="politica_privacidade" required disabled>
                    <label for="politica_privacidade">
                        Aceito a <a href="#" class="link-termo" id="link-politica">Política de Privacidade</a>
                    </label>
                </div>
                
                <p class="termo-instruction" id="termo-instruction">
                    <i class="bi bi-info-circle"></i>
                    Por favor, leia e role até o final de cada documento para aceitar
                </p>
            </div>
            
            <button type="submit" class="btn-cadastrar-form" id="btn-cadastrar" >Cadastrar</button>
        </form>
    </main>

    <div id="modal-termos" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Termos e Condições</h2>
                <button class="modal-close" data-modal="termos">
                    <i class="bi bi-x-lg"></i>
                </button>
            </div>
            <div class="modal-body" id="termos-content">
                <h3>TERMO DE USO DO PORTAL WEB ADMINISTRATIVO DO LINECUT</h3>
                <p>Última atualização: [01/05/2025]</p>
                
                <p>Pelo presente instrumento, o LINECUT, doravante denominado simplesmente 'Plataforma', estabelece os termos e condições de uso do Portal Web Administrativo, conforme as cláusulas a seguir:</p>
                
                <h4>1. OBJETO</h4>
                <p>1.1. O presente Termo regula o uso do Portal Web Administrativo do LineCut, que permite às lanchonetes cadastradas gerenciar pedidos, filas, estoque e dados dos clientes que utilizam o aplicativo LineCut.</p>
                <p>1.2. O acesso ao Portal é restrito a usuários cadastrados e autorizados pelas lanchonetes, sendo seu uso exclusivo para fins administrativos.</p>
                
                <h4>2. ACEITAÇÃO</h4>
                <p>2.1. Ao acessar o Portal, o usuário declara ter lido, compreendido e aceitado os presentes Termos de Uso.</p>
                <p>2.2. Caso o usuário não concorde com qualquer condição estabelecida, deverá interromper imediatamente o uso do Portal.</p>
                
                <h4>3. CADASTRO</h4>
                <p>3.1. O acesso ao Portal é pessoal e intransferível. A lanchonete é responsável pela gestão e segurança das credenciais fornecidas.</p>
                <p>3.2. O administrador deve garantir que apenas pessoas autorizadas utilizem as credenciais de acesso.</p>
                <p>3.3. A Plataforma não se responsabiliza por danos decorrentes de uso indevido das credenciais ou por falhas de segurança imputáveis ao administrador.</p>
                
                <h4>4. OBRIGAÇÕES</h4>
                <p>4.1. Utilizar o Portal de forma ética, respeitando a legislação vigente e as políticas da Plataforma.</p>
                <p>4.2. Manter atualizados os dados cadastrais da lanchonete.</p>
                <p>4.3. Assegurar que as informações dos clientes coletadas estejam em conformidade com a Lei Geral de Proteção de Dados (LGPD).</p>
                
                <h4>5. LIMITAÇÃO</h4>
                <p>5.1. A Plataforma não se responsabiliza por falhas operacionais da lanchonete, incluindo problemas com conexão de internet, equipamentos ou gestão inadequada de pedidos.</p>
                <p>5.2. O uso do Portal é disponibilizado 'no estado em que se encontra', sem garantias de funcionamento contínuo ou livre de erros.</p>
                
                <h4>6. PRIVACIDADE E SEGURANÇA</h4>
                <p>6.1. Os dados pessoais coletados são tratados de acordo com a Política de Privacidade do LineCut.</p>
                <p>6.2. A Plataforma adota medidas de segurança para proteger os dados, mas não se responsabiliza por acessos indevidos resultantes de negligência do usuário.</p>
                
                <h4>7. MODIFICAÇÕES DOS TERMOS</h4>
                <p>7.1. O LineCut reserva-se o direito de modificar os presentes Termos a qualquer momento, notificando os usuários por meio do Portal.</p>
                <p>7.2. O uso contínuo do Portal após as modificações constitui aceitação das novas condições.</p>
                
                <h4>8. LEGISLAÇÃO APLICÁVEL E FORO</h4>
                <p>8.1. O presente Termo é regido pelas leis da República Federativa do Brasil.</p>
                <p>8.2. Fica eleito o foro da comarca de [cidade/estado do desenvolvedor] para dirimir quaisquer controvérsias oriundas deste instrumento.</p>
                
                <p class="modal-end">Ao utilizar o Portal Web Administrativo do LineCut, o usuário concorda com todos os termos acima estabelecidos.</p>
            </div>
            <div class="modal-footer">
                <div class="scroll-indicator" id="indicator-termos">
                    <i class="bi bi-arrow-down"></i>
                    <span>Role até o final para aceitar</span>
                </div>
                <button class="btn-concordar" id="btn-concordar-termos" disabled>Concordar e continuar</button>
            </div>
        </div>
    </div>

    <div id="modal-politica" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Política de Privacidade</h2>
                <button class="modal-close" data-modal="politica">
                    <i class="bi bi-x-lg"></i>
                </button>
            </div>
            <div class="modal-body" id="politica-content">
                <h3>POLÍTICA DE PRIVACIDADE</h3>
                
                <h4>1. COLETA DE DADOS:</h4>
                <p>O portal coleta e armazena informações necessárias para a gestão dos pedidos e da lanchonete, incluindo:</p>
                <ul>
                    <li><strong>Dados da lanchonete:</strong> Nome, CNPJ, endereço e dados de contato.</li>
                    <li><strong>Dados de pedidos:</strong> Itens comprados, valores, horários e status.</li>
                </ul>
                
                <h4>2. USO DAS INFORMAÇÕES:</h4>
                <p>Os dados coletados são utilizados para:</p>
                <ul>
                    <li>Gestão de pedidos e filas.</li>
                    <li>Emissão de relatórios operacionais.</li>
                    <li>Monitoramento do atendimento e eficiência da lanchonete.</li>
                    <li>Contato com clientes em casos específicos (ex: pedido cancelado ou atraso).</li>
                </ul>
                
                <h4>3. COMPARTILHAMENTO DE DADOS:</h4>
                <ul>
                    <li>As informações coletadas podem ser compartilhadas com serviços de pagamento integrados, autoridades legais (quando necessário) e o próprio LineCut para manutenção e suporte.</li>
                    <li>Não vendemos nem compartilhamos os dados dos clientes para fins comerciais.</li>
                </ul>
                
                <h4>4. SEGURANÇA DOS DADOS:</h4>
                <p>Os dados são armazenados em servidores seguros com protocolos de criptografia. O acesso ao portal é protegido por autenticação e controle de permissões.</p>
                
                <h4>5. DIREITOS DOS USUÁRIOS (LGPD):</h4>
                <p>O administrador pode solicitar a retificação ou exclusão de dados pessoais a qualquer momento pelo e-mail: privacidade@linecut.app.br</p>
                
                <h4>6. COOKIES E RASTREAMENTO:</h4>
                <p>O portal utiliza cookies para manter a sessão ativa e armazenar preferências de uso. O administrador pode optar por bloquear cookies diretamente no navegador, ciente de que algumas funcionalidades podem ser prejudicadas.</p>
                
                <h4>7. ALTERAÇÕES NA POLÍTICA DE PRIVACIDADE:</h4>
                <p>Quaisquer mudanças na política serão notificadas através do portal e/ou e-mail cadastrado.</p>
                
                <h4>8. CONTATO:</h4>
                <p>Para dúvidas ou solicitações sobre privacidade e proteção de dados, entre em contato pelo e-mail: privacidade@linecut.app.br</p>
            </div>
            <div class="modal-footer">
                <div class="scroll-indicator" id="indicator-politica">
                    <i class="bi bi-arrow-down"></i>
                    <span>Role até o final para aceitar</span>
                </div>
                <button class="btn-concordar" id="btn-concordar-politica" disabled>Concordar e continuar</button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-logo">
            <img src="{% static 'core/images/logo_home.png' %}" alt="LineCut Logo">
        </div>
        <div class="footer-links">
            <div class="sobre">
                <h3>Sobre</h3>
                <a href="{% url 'quem_somos' %}">Quem somos</a>
                <a href="{% url 'como_funciona' %}">Como Funciona</a>
            </div>
            <div class="descubra">
                <h3>Descubra</h3>
                <a href="{% url 'cadastro' %}">Cadastre seu restaurante</a>
                <a href="{% url 'login' %}">Seja parceiro</a>
                <a href="{% url 'planos' %}">Planos</a>
            </div>
        </div>
        <div class="footer-copyright">
            <p>© 2025 LineCut. Todos os direitos reservados.</p>
        </div>
    </footer>

    <div id="loading-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.8); z-index: 9999; justify-content: center; align-items: center;">
        <div style="text-align: center;">
            <div class="spinner-border text-danger" role="status">
                <span class="visually-hidden">Carregando...</span>
            </div>
            <p class="mt-2">Processando cadastro...</p>
        </div>
    </div>

    <div id="error-message" style="display: none; position: fixed; top: 20px; right: 20px; z-index: 10000;" class="alert alert-danger"></div>

    <script src="{% static 'core/js/mascaras.js' %}"></script>
    <script src="{% static 'core/js/notificacoes.js' %}"></script>
    <script src="{% static 'core/js/cep.js' %}"></script>
    <script src="{% static 'core/js/cnpj.js' %}"></script>
    <script src="{% static 'core/js/senha.js' %}"></script>
    <script src="{% static 'core/js/termos.js' %}"></script>
    <script src="{% static 'core/js/plano.js' %}"></script>
    <script src="{% static 'core/js/cadastro_submit.js' %}"></script>
    
</body>
</html>
